{% extends 'base.html' %}
{% load static %}
{% block title %}Checkout{% endblock %}
{% block content %}

 <form method="POST" action="{% url 'place_order' %}">
    {% csrf_token %}
    <div class="container-fluid my-5">
			<h1 class="text-center mb-1">Checkout</h1>

			<div class="login-warning" style="display: none;">
				<h2>Please Login</h2>
				<p>
					You need to be logged in to complete your checkout process. Please
					<a href="login.html">login</a> to continue.
				</p>
			</div>
			'

			<div class="row">
				<div class="col-md-7">
					<div class="checkout-form">
						<h2 class="mb-4">Billing Details</h2>
						<form>
							<div class="row mb-3">
								<div class="col-md-6">
									<label for="firstName" class="form-label">First Name</label>
									<input
										type="text"
										class="form-control"
										id="firstName"
										name="firstName"
										required
									/>
								</div>
								<div class="col-md-6">
									<label for="lastName" class="form-label">Last Name</label>
									<input
										type="text"
										class="form-control"
										id="lastName"
										name="lastName"
										required
									/>
								</div>
							</div>
							<div class="mb-3">
								<label for="email" class="form-label">Email</label>
								<input
									type="email"
									class="form-control"
									id="email"
									name="email"
									required
								/>
							</div>
							<div class="mb-3">
								<label for="address" class="form-label">Address</label>
								<input
									type="text"
									class="form-control"
									id="address"
									name="address"
									required
								/>
							</div>
							<div class="row mb-3">
								<div class="col-md-6">
									<label for="city" class="form-label">City</label>
									<input
										type="text"
										class="form-control"
										id="city"
										name="city"
										required
									/>
								</div>
								<div class="col-md-6">
									<label for="zip" class="form-label">ZIP</label>
									<input
										type="text"
										class="form-control"
										id="zip"
										name="zip"
										required
									/>
								</div>
							</div>
							<div class="mb-3">
								<label for="phone" class="form-label">Phone</label>
								<input
									type="tel"
									class="form-control"
									id="phone"
									name="phone"
									required
								/>
							</div>
						</form>
					</div>
				</div>
				<div class="col-md-5">
					<div class="summary-card">
						<h2 class="mb-4">Order Summary</h2>
                        {%for cart_item in cart_items %}
                            <div class="summary-item">
                                <span>{{cart_item.product.name}}</span>
                                <span>{{cart_item.product.price}}</span>
                            </div>
                        {%endfor%}
                        <div class="summary-item">
							<span>Delivery Charge</span>
							<span>{{delivery_charge|floatformat:2}}</span>
						</div>
						
						<div class="summary-total">
							<span>Total</span>
							<span>{{grand_total}}</span>
						</div>
					</div>

					<div class="payment-methods">
						<h2 class="mb-4">Payment Method</h2>
						<div class="payment-method-item">
							<input
								type="radio"
								id="creditCard"
								name="paymentMethod"
								value="creditCard"
								checked
							/>
							<label for="creditCard">Credit Card</label>
							<i class="fa fa-credit-card fa-2x" style="color: #007bff"></i>
						</div>
						<div class="payment-method-item">
							<input
								type="radio"
								id="paypal"
								name="paymentMethod"
								value="paypal"
							/>
							<label for="paypal">PayPal</label>
							<i class="fab fa-paypal fa-2x" style="color: #ffc107"></i>
						</div>
						<div class="payment-method-item">
							<input
								type="radio"
								id="bankTransfer"
								name="paymentMethod"
								value="bankTransfer"
							/>
							<label for="bankTransfer">Bank Transfer</label>
							<i class="fa fa-university fa-2x" style="color: #28a745"></i>
						</div>
					</div>
					<button class="order-button">Place Order</button>
				</div>
			</div>
	</div>
</form>
{%endblock%}
